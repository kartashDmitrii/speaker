(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}openPopup(event){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(event.target.dataset.stopEvent===undefined){event.preventDefault();if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}closePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NumberTimer});class NumberTimer{constructor(object){this.elem=object.elem;this.delay=typeof object.delay==="undefined"?1e3:object.delay;this.max=typeof object.max==="undefined"?parseInt(this.elem.innerText):object.max;this.min=typeof object.min==="undefined"?0:object.max;this.type=typeof object.type==="undefined"?"default":object.type;switch(this.type){case"ease-out":this.bezier=[0,0,.58,1];break;case"default":this.bezier=[0];break}this.iteration=0;this.step=Math.round(this.delay/(this.max-this.min));let currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));let interval=setInterval(()=>{this.step=Math.round(this.delay/(this.max-this.min));currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));if(this.iteration<this.max-1){this.iteration++;this.elem.innerText=this.iteration}else{this.iteration++;this.elem.innerText=this.iteration;clearInterval(interval)}},this.step*(this.bezier[currBezier]+1))}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,fixHeight=null){this.fixHeight=fixHeight;this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",e=>{this.showBlock(e)});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===null?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}if(this.list.querySelector(".close")){this.list.querySelector(".close").addEventListener("click",e=>{this.showBlock(e)})}}showBlock(e){e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));if(blockHeight===0){this.fixHeight===null?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.list.style.height=`0`}}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(5);__webpack_require__(2);__webpack_require__(1);module.exports=__webpack_require__(0)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);if(document.querySelector("header .burger")&&window.screen.width<=900){document.querySelector("header .burger").addEventListener("click",()=>{document.querySelector("header .mobile-menu").classList.toggle("active")})}if(document.querySelector('[data-popup*="-popup"]')){document.querySelectorAll('[data-popup*="-popup"]').forEach(elem=>{new _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);if(document.querySelector("section.top-block")){let stars=document.querySelector("section.top-block .google .stars");let rating=parseFloat(stars.dataset.rating);stars.style.backgroundImage=window.getComputedStyle(stars).getPropertyValue("background-image")+`, linear-gradient(90deg, #36A38F ${rating/5*100}%, #fff ${rating/5*100}%)`}if(document.querySelector("section.why-we .right-side")){function scrollEvent(e){if(pageYOffset>document.querySelector("section.why-we").offsetTop-window.screen.height){document.querySelectorAll("section.why-we .right-side .elem").forEach(elem=>{new _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__["default"]({elem:elem.querySelector(".num span"),delay:4e3,type:"ease-out"})});window.removeEventListener("scroll",scrollEvent)}}window.addEventListener("scroll",scrollEvent)}if(document.querySelector("section.our-team")){let swiper=new Swiper("section.our-team .swiper-container",{navigation:{nextEl:"section.our-team .swiper-container .arrow.next",prevEl:"section.our-team .swiper-container .arrow.prev"}})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJwb3B1cEZ1bmMiLCJbb2JqZWN0IE9iamVjdF0iLCJidXR0b24iLCJwb3B1cCIsIndyYXBwZXIiLCJ0aGlzIiwib3BlblBvcHVwRnVuYyIsIm9wZW5Qb3B1cCIsImNsb3NlUG9wdXBGdW5jIiwiY2xvc2VQb3B1cCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJldmVudCIsImRvY3VtZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGFyZ2V0IiwiZGF0YXNldCIsInN0b3BFdmVudCIsInVuZGVmaW5lZCIsInByZXZlbnREZWZhdWx0IiwiYWRkIiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwid2luZG93Iiwic2NyZWVuIiwid2lkdGgiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJOdW1iZXJUaW1lciIsImRlbGF5IiwibWF4IiwicGFyc2VJbnQiLCJpbm5lclRleHQiLCJtaW4iLCJ0eXBlIiwiYmV6aWVyIiwiaXRlcmF0aW9uIiwic3RlcCIsIk1hdGgiLCJyb3VuZCIsImN1cnJCZXppZXIiLCJmbG9vciIsImxlbmd0aCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaGlkZUxpc3QiLCJsaXN0QmxvY2siLCJmaXhIZWlnaHQiLCJsaXN0IiwiZSIsInNob3dCbG9jayIsInN0eWxlIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiYmxvY2tIZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsIl9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsInRvZ2dsZSIsIl9jb21wb25lbnRzX051bWJlclRpbWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJzdGFycyIsInJhdGluZyIsInBhcnNlRmxvYXQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJzY3JvbGxFdmVudCIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0VG9wIiwic3dpcGVyIiwiU3dpcGVyIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsU0FFVCxJQUFJQyxpQkFBbUIsR0FHdkIsU0FBU0Msb0JBQW9CQyxVQUc1QixHQUFHRixpQkFBaUJFLFVBQVcsQ0FDOUIsT0FBT0YsaUJBQWlCRSxVQUFVQyxRQUduQyxJQUFJQyxPQUFTSixpQkFBaUJFLFVBQVksQ0FDekNHLEVBQUdILFNBQ0hJLEVBQUcsTUFDSEgsUUFBUyxJQUlWSixRQUFRRyxVQUFVSyxLQUFLSCxPQUFPRCxRQUFTQyxPQUFRQSxPQUFPRCxRQUFTRixxQkFHL0RHLE9BQU9FLEVBQUksS0FHWCxPQUFPRixPQUFPRCxRQUtmRixvQkFBb0JPLEVBQUlULFFBR3hCRSxvQkFBb0JRLEVBQUlULGlCQUd4QkMsb0JBQW9CUyxFQUFJLFNBQVNQLFFBQVNR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eyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9wdXBGdW5jOyB9KTtcbmNsYXNzIHBvcHVwRnVuYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihidXR0b24scG9wdXAsd3JhcHBlciA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXA7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyID0gd3JhcHBlcjtcclxuICAgICAgICB0aGlzLm9wZW5Qb3B1cEZ1bmMgPSB0aGlzLm9wZW5Qb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cEZ1bmMgPSB0aGlzLmNsb3NlUG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkodGhpcy5idXR0b24pKXtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlJykuZm9yRWFjaChlbGVtID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlJykuZm9yRWFjaChlbGVtID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3BlblBvcHVwKGV2ZW50KXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtd3JhcHBlcj5kaXYnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmRhdGFzZXQuc3RvcEV2ZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wb3B1cCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvc2VQb3B1cChldmVudCl7XHJcbiAgICAgICAgaWYgKCFldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZScpKXtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wb3B1cCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmNsb3NlUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBOdW1iZXJUaW1lcjsgfSk7XG5jbGFzcyBOdW1iZXJUaW1lciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3QpIHtcclxuICAgICAgICB0aGlzLmVsZW0gPSBvYmplY3QuZWxlbTtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gdHlwZW9mIG9iamVjdC5kZWxheSA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDEwMDAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVsYXk7XHJcbiAgICAgICAgdGhpcy5tYXggPSB0eXBlb2Ygb2JqZWN0Lm1heCA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQodGhpcy5lbGVtLmlubmVyVGV4dCkgOlxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXg7XHJcbiAgICAgICAgdGhpcy5taW4gPSB0eXBlb2Ygb2JqZWN0Lm1pbiA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1heDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlb2Ygb2JqZWN0LnR5cGUgPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVmYXVsdCcgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QudHlwZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZWFzZS1vdXRcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyID0gWzAsMCwwLjU4LDFdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlemllciA9IFswXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLml0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5zdGVwID0gTWF0aC5yb3VuZCh0aGlzLmRlbGF5IC8gKHRoaXMubWF4IC0gdGhpcy5taW4pKTtcclxuICAgICAgICBsZXQgY3VyckJlemllciA9IE1hdGguZmxvb3IodGhpcy5pdGVyYXRpb24gLyAoKHRoaXMubWF4IC0gdGhpcy5taW4pIC8gdGhpcy5iZXppZXIubGVuZ3RoICkpO1xyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RlcCA9IE1hdGgucm91bmQodGhpcy5kZWxheSAvICh0aGlzLm1heCAtIHRoaXMubWluKSk7XHJcbiAgICAgICAgICAgIGN1cnJCZXppZXIgPSBNYXRoLmZsb29yKHRoaXMuaXRlcmF0aW9uIC8gKCh0aGlzLm1heCAtIHRoaXMubWluKSAvIHRoaXMuYmV6aWVyLmxlbmd0aCApKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXRlcmF0aW9uIDwgdGhpcy5tYXggLSAxKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW0uaW5uZXJUZXh0ID0gdGhpcy5pdGVyYXRpb247XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZXJhdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IHRoaXMuaXRlcmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuc3RlcCAqICh0aGlzLmJlemllcltjdXJyQmV6aWVyXSArIDEpIClcclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGhpZGVMaXN0OyB9KTtcbmNsYXNzIGhpZGVMaXN0e1xyXG4gICAgY29uc3RydWN0b3IobGlzdEJsb2NrLCBmaXhIZWlnaHQgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5maXhIZWlnaHQgPSBmaXhIZWlnaHRcclxuICAgICAgICB0aGlzLmxpc3RCbG9jayA9IGxpc3RCbG9jaztcclxuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja10nKTtcclxuICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9Pnt0aGlzLnNob3dCbG9jayhlKX0pXHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID09PSBudWxsID8gdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuZml4SGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3QucXVlcnlTZWxlY3RvcignLmNsb3NlJykpe1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9Pnt0aGlzLnNob3dCbG9jayhlKX0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgYmxvY2tIZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmxpc3QpLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKTtcclxuICAgICAgICBpZiAoYmxvY2tIZWlnaHQgPT09IDApe1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCA9PT0gbnVsbCA/IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YCA6IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmZpeEhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAwYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbl9fd2VicGFja19yZXF1aXJlX18oNSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuYnVyZ2VyJykgJiYgd2luZG93LnNjcmVlbi53aWR0aCA8PSA5MDApe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLm1vYmlsZS1tZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wb3B1cCo9XCItcG9wdXBcIl0nKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wb3B1cCo9XCItcG9wdXBcIl0nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBuZXcgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKGVsZW0sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3B1cC4ke2VsZW0uZGF0YXNldC5wb3B1cH1gKSlcclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX051bWJlclRpbWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuLyogICAgICAgICAgUkFUSU5HIFNUQVJTICAgICAgICAqL1xyXG5cclxuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi50b3AtYmxvY2snKSl7XHJcbiAgICBsZXQgc3RhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1ibG9jayAuZ29vZ2xlIC5zdGFycycpO1xyXG4gICAgbGV0IHJhdGluZyA9IHBhcnNlRmxvYXQoc3RhcnMuZGF0YXNldC5yYXRpbmcpO1xyXG4gICAgc3RhcnMuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3RhcnMpLmdldFByb3BlcnR5VmFsdWUoJ2JhY2tncm91bmQtaW1hZ2UnKSArXHJcbiAgICAgICAgYCwgbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMzZBMzhGICR7cmF0aW5nIC8gNSAqIDEwMH0lLCAjZmZmICR7cmF0aW5nIC8gNSAqIDEwMH0lKWBcclxufVxyXG5cclxuLyogICAgICAgICAgUkFUSU5HIFNUQVJTICAgICAgICAqL1xyXG5cclxuLyogICAgICAgICAgRkVBVFVSRVMgTlVNQkVSICAgICAgICAqL1xyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ud2h5LXdlIC5yaWdodC1zaWRlJykpe1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsRXZlbnQoZSl7XHJcbiAgICAgICAgaWYocGFnZVlPZmZzZXQgPiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi53aHktd2UnKS5vZmZzZXRUb3AgLSB3aW5kb3cuc2NyZWVuLmhlaWdodCkpe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLndoeS13ZSAucmlnaHQtc2lkZSAuZWxlbScpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbmV3IF9jb21wb25lbnRzX051bWJlclRpbWVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtOiBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5udW0gc3BhbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiA0MDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlYXNlLW91dCdcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsRXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEV2ZW50KVxyXG5cclxufVxyXG5cclxuLyogICAgICAgICAgRkVBVFVSRVMgTlVNQkVSICAgICAgICAqL1xyXG5cclxuLyogICAgICAgICAgT1VSIFRFQU0gU0xJREVSICAgICAgICAgKi9cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLm91ci10ZWFtJykpe1xyXG4gICAgbGV0IHN3aXBlciA9IG5ldyBTd2lwZXIoJ3NlY3Rpb24ub3VyLXRlYW0gLnN3aXBlci1jb250YWluZXInLCB7XHJcbiAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICBuZXh0RWw6ICdzZWN0aW9uLm91ci10ZWFtIC5zd2lwZXItY29udGFpbmVyIC5hcnJvdy5uZXh0JyxcclxuICAgICAgICAgICAgcHJldkVsOiAnc2VjdGlvbi5vdXItdGVhbSAuc3dpcGVyLWNvbnRhaW5lciAuYXJyb3cucHJldicsXHJcbiAgICAgICAgfSxcclxuICAgIH0pXHJcbn1cclxuXHJcbi8qICAgICAgICAgIE9VUiBURUFNIFNMSURFUiAgICAgICAgICovXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTsiXSwiZmlsZSI6Im1haW4tbWluLmpzIn0=
