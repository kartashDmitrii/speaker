(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,object){if(typeof object.fixHeight!=="undefined"){this.fixHeight=object.fixHeight}if(typeof object.minHeight!=="undefined"){this.minHeight=object.minHeight}this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",e=>{this.showBlock(e)});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}if(this.list.querySelector(".close")){this.list.querySelector(".close").addEventListener("click",e=>{this.showBlock(e)})}}showBlock(e){e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));let min;this.minHeight===null?min=0:min=this.minHeight;if(blockHeight===min){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.minHeight===undefined?this.list.style.height="0":this.list.style.height=`${this.minHeight}px`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}openPopup(event){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(event.target.dataset.stopEvent===undefined){event.preventDefault();if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}closePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NumberTimer});class NumberTimer{constructor(object){this.elem=object.elem;this.delay=typeof object.delay==="undefined"?1e3:object.delay;this.max=typeof object.max==="undefined"?parseInt(this.elem.innerText):object.max;this.min=typeof object.min==="undefined"?0:object.max;this.type=typeof object.type==="undefined"?"default":object.type;switch(this.type){case"ease-out":this.bezier=[0,0,.58,1];break;case"default":this.bezier=[0];break}this.iteration=0;this.step=Math.round(this.delay/(this.max-this.min));let currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));let interval=setInterval(()=>{this.step=Math.round(this.delay/(this.max-this.min));currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));if(this.iteration<this.max-1){this.iteration++;this.elem.innerText=this.iteration}else{this.iteration++;this.elem.innerText=this.iteration;clearInterval(interval)}},this.step*(this.bezier[currBezier]+1))}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(5);__webpack_require__(6);__webpack_require__(7);__webpack_require__(0);__webpack_require__(2);module.exports=__webpack_require__(1)},function(module,exports){if(document.querySelector("section.contacts-page")){document.querySelectorAll("section.contacts-page .info .block").forEach((elem,i)=>{if(elem.querySelector(".wrapper").classList.contains("active")){elem.querySelector(".wrapper").style.height=`${elem.querySelector(".wrapper").scrollHeight}px`}elem.querySelector(".title").addEventListener("click",e=>{e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(elem.querySelector(".wrapper")).getPropertyValue("height"));if(blockHeight===0){document.querySelectorAll("section.contacts-page .info .block").forEach(block=>{block.classList.remove("active");block.querySelector(".title").classList.remove("active");block.querySelector(".wrapper").classList.remove("active");block.querySelector(".wrapper").style.height=`0px`});elem.querySelector(".wrapper").style.height=`${elem.querySelector(".wrapper").scrollHeight}px`;elem.classList.add("active");elem.querySelector(".title").classList.add("active");elem.querySelector(".wrapper").classList.add("active");document.querySelectorAll("section.contacts-page .map").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll("section.contacts-page .map")[i].classList.add("active")}})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);if(document.querySelector("header .burger")&&window.screen.width<=900){document.querySelector("header .burger").addEventListener("click",()=>{document.querySelector("header .mobile-menu").classList.toggle("active")})}if(document.querySelector('[data-popup*="-popup"]')){document.querySelectorAll('[data-popup*="-popup"]').forEach(elem=>{new _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}if(document.querySelector("section.service-seo")){document.querySelectorAll("section.service-seo").forEach(elem=>{new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](elem,{minHeight:157})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);if(document.querySelector("section.top-block")){let stars=document.querySelector("section.top-block .google .stars");let rating=parseFloat(stars.dataset.rating);stars.style.backgroundImage=window.getComputedStyle(stars).getPropertyValue("background-image")+`, linear-gradient(90deg, #36A38F ${rating/5*100}%, #fff ${rating/5*100}%)`}if(document.querySelector("section.why-we .right-side")){function scrollEvent(e){if(pageYOffset>document.querySelector("section.why-we").offsetTop-window.screen.height){document.querySelectorAll("section.why-we .right-side .elem").forEach(elem=>{new _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__["default"]({elem:elem.querySelector(".num span"),delay:4e3,type:"ease-out"})});window.removeEventListener("scroll",scrollEvent)}}window.addEventListener("scroll",scrollEvent)}if(document.querySelector("section.our-team")){let swiper=new Swiper("section.our-team .swiper-container",{navigation:{nextEl:"section.our-team .swiper-container .arrow.next",prevEl:"section.our-team .swiper-container .arrow.prev"}})}},function(module,exports){if(document.querySelector("section.teams")){document.querySelectorAll("section.teams .user").forEach((elem,i)=>{let nextElem;let flag=false;if(i%2){nextElem=document.querySelectorAll("section.teams .user")[i-i%2];flag=true}else{nextElem=document.querySelectorAll("section.teams .user")[i+1]}if(typeof nextElem==="undefined"){elem.querySelector(".preview").classList.add("bordered")}elem.querySelector(".btn").addEventListener("click",()=>{elem.classList.toggle("active");if(elem.classList.contains("active")){document.querySelectorAll("section.teams .user")[i-i%2].classList.add("hover");if(flag)document.querySelectorAll("section.teams .user")[i-i%2].classList.add("right");setTimeout(()=>{if(elem.classList.contains("active")){elem.querySelector(".content").style.zIndex="4";elem.querySelector(".preview").style.zIndex="5"}},300);if(typeof nextElem!=="undefined")nextElem.style.zIndex="-1"}else{document.querySelectorAll("section.teams .user")[i-i%2].classList.remove("hover");if(flag)document.querySelectorAll("section.teams .user")[i-i%2].classList.remove("right");elem.querySelector(".content").style.removeProperty("z-index");elem.querySelector(".preview").style.removeProperty("z-index");setTimeout(()=>{if(!elem.classList.contains("active")){if(typeof nextElem!=="undefined")nextElem.style.removeProperty("z-index")}},300)}})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJoaWRlTGlzdCIsIltvYmplY3QgT2JqZWN0XSIsImxpc3RCbG9jayIsImZpeEhlaWdodCIsInRoaXMiLCJtaW5IZWlnaHQiLCJsaXN0IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2hvd0Jsb2NrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImFkZCIsInByZXZlbnREZWZhdWx0IiwiYmxvY2tIZWlnaHQiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibWluIiwicmVtb3ZlIiwicG9wdXBGdW5jIiwiYnV0dG9uIiwicG9wdXAiLCJ3cmFwcGVyIiwib3BlblBvcHVwRnVuYyIsIm9wZW5Qb3B1cCIsImNsb3NlUG9wdXBGdW5jIiwiY2xvc2VQb3B1cCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50IiwiZG9jdW1lbnQiLCJ0YXJnZXQiLCJkYXRhc2V0Iiwic3RvcEV2ZW50IiwicGFyZW50Tm9kZSIsInNjcmVlbiIsIndpZHRoIiwiYm9keSIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJOdW1iZXJUaW1lciIsImRlbGF5IiwibWF4IiwiaW5uZXJUZXh0IiwidHlwZSIsImJlemllciIsIml0ZXJhdGlvbiIsInN0ZXAiLCJNYXRoIiwicm91bmQiLCJjdXJyQmV6aWVyIiwiZmxvb3IiLCJsZW5ndGgiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImJsb2NrIiwiX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwidG9nZ2xlIiwiX2NvbXBvbmVudHNfTnVtYmVyVGltZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInN0YXJzIiwicmF0aW5nIiwicGFyc2VGbG9hdCIsImJhY2tncm91bmRJbWFnZSIsInNjcm9sbEV2ZW50IiwicGFnZVlPZmZzZXQiLCJvZmZzZXRUb3AiLCJzd2lwZXIiLCJTd2lwZXIiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwibmV4dEVsZW0iLCJmbGFnIiwic2V0VGltZW91dCIsInpJbmRleCIsInJlbW92ZVByb3BlcnR5Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxTQUVULElBQUlDLGlCQUFtQixHQUd2QixTQUFTQyxvQkFBb0JDLFVBRzVCLEdBQUdGLGlCQUFpQkUsVUFBVyxDQUM5QixPQUFPRixpQkFBaUJFLFVBQVVDLFFBR25DLElBQUlDLE9BQVNKLGlCQUFpQkUsVUFBWSxDQUN6Q0csRUFBR0gsU0FDSEksRUFBRyxNQUNISCxRQUFTLElBSVZKLFFBQVFHLFVBQVVLLEtBQUtILE9BQU9ELFFBQVNDLE9BQVFBLE9BQU9ELFFBQVNGLHFCQUcvREcsT0FBT0UsRUFBSSxLQUdYLE9BQU9GLE9B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QixLQUFLOUIsY0FBYyxZQUFZTyxNQUFNd0UsT0FBUyxJQUM5Q2pELEtBQUs5QixjQUFjLFlBQVlPLE1BQU13RSxPQUFTLE1BRW5ELEtBQ0gsVUFBV0gsV0FBYSxZQUFhQSxTQUFTckUsTUFBTXdFLE9BQVMsU0FDMUQsQ0FDSDlDLFNBQVNGLGlCQUFpQix1QkFBdUJ4RSxFQUFLQSxFQUFJLEdBQUk2QyxVQUFVYyxPQUFPLFNBQy9FLEdBQUkyRCxLQUFNNUMsU0FBU0YsaUJBQWlCLHVCQUF1QnhFLEVBQUtBLEVBQUksR0FBSTZDLFVBQVVjLE9BQU8sU0FDekZZLEtBQUs5QixjQUFjLFlBQVlPLE1BQU15RSxlQUFlLFdBQ3BEbEQsS0FBSzlCLGNBQWMsWUFBWU8sTUFBTXlFLGVBQWUsV0FDcERGLFdBQVcsS0FDUCxJQUFLaEQsS0FBSzFCLFVBQVVDLFNBQVMsVUFBVyxDQUNwQyxVQUFXdUUsV0FBYSxZQUFhQSxTQUFTckUsTUFBTXlFLGVBQWUsYUFFeEUiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gaGlkZUxpc3Q7IH0pO1xuY2xhc3MgaGlkZUxpc3R7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0QmxvY2ssIG9iamVjdCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0LmZpeEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQgPSBvYmplY3QuZml4SGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIG9iamVjdC5taW5IZWlnaHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWluSGVpZ2h0ID0gb2JqZWN0Lm1pbkhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saXN0QmxvY2sgPSBsaXN0QmxvY2s7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYmxvY2tdJyk7XHJcbiAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57dGhpcy5zaG93QmxvY2soZSl9KVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCA9PT0gdW5kZWZpbmVkID8gdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuZml4SGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3QucXVlcnlTZWxlY3RvcignLmNsb3NlJykpe1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QucXVlcnlTZWxlY3RvcignLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9Pnt0aGlzLnNob3dCbG9jayhlKX0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgYmxvY2tIZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmxpc3QpLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKTtcclxuICAgICAgICBsZXQgbWluO1xyXG4gICAgICAgIHRoaXMubWluSGVpZ2h0ID09PSBudWxsID8gbWluID0gMCA6IG1pbiA9IHRoaXMubWluSGVpZ2h0O1xyXG4gICAgICAgIGlmIChibG9ja0hlaWdodCA9PT0gbWluKXtcclxuICAgICAgICAgICAgdGhpcy5maXhIZWlnaHQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YCA6IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmZpeEhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubWluSGVpZ2h0ID09PSB1bmRlZmluZWQgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gJzAnIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubWluSGVpZ2h0fXB4YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBwb3B1cEZ1bmM7IH0pO1xuY2xhc3MgcG9wdXBGdW5jIHtcclxuICAgIGNvbnN0cnVjdG9yKGJ1dHRvbixwb3B1cCx3cmFwcGVyID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IHRoaXMub3BlblBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwRnVuYyA9IHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmICggQXJyYXkuaXNBcnJheSh0aGlzLmJ1dHRvbikpe1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wb3B1cCkpe1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKS5mb3JFYWNoKGVsZW0gPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKS5mb3JFYWNoKGVsZW0gPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC13cmFwcGVyPmRpdicpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihldmVudC50YXJnZXQuZGF0YXNldC5zdG9wRXZlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmNsb3NlUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbG9zZVBvcHVwKGV2ZW50KXtcclxuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpe1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0ucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIE51bWJlclRpbWVyOyB9KTtcbmNsYXNzIE51bWJlclRpbWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9iamVjdCkge1xyXG4gICAgICAgIHRoaXMuZWxlbSA9IG9iamVjdC5lbGVtO1xyXG4gICAgICAgIHRoaXMuZGVsYXkgPSB0eXBlb2Ygb2JqZWN0LmRlbGF5ID09PSBcInVuZGVmaW5lZFwiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgMTAwMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZWxheTtcclxuICAgICAgICB0aGlzLm1heCA9IHR5cGVvZiBvYmplY3QubWF4ID09PSBcInVuZGVmaW5lZFwiID9cclxuICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh0aGlzLmVsZW0uaW5uZXJUZXh0KSA6XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Lm1heDtcclxuICAgICAgICB0aGlzLm1pbiA9IHR5cGVvZiBvYmplY3QubWluID09PSBcInVuZGVmaW5lZFwiID9cclxuICAgICAgICAgICAgICAgICAgICAwIDpcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QubWF4O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGVvZiBvYmplY3QudHlwZSA9PT0gXCJ1bmRlZmluZWRcIiA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JyA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC50eXBlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJlYXNlLW91dFwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iZXppZXIgPSBbMCwwLDAuNTgsMV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYmV6aWVyID0gWzBdO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXRlcmF0aW9uID0gMDtcclxuICAgICAgICB0aGlzLnN0ZXAgPSBNYXRoLnJvdW5kKHRoaXMuZGVsYXkgLyAodGhpcy5tYXggLSB0aGlzLm1pbikpO1xyXG4gICAgICAgIGxldCBjdXJyQmV6aWVyID0gTWF0aC5mbG9vcih0aGlzLml0ZXJhdGlvbiAvICgodGhpcy5tYXggLSB0aGlzLm1pbikgLyB0aGlzLmJlemllci5sZW5ndGggKSk7XHJcbiAgICAgICAgbGV0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGVwID0gTWF0aC5yb3VuZCh0aGlzLmRlbGF5IC8gKHRoaXMubWF4IC0gdGhpcy5taW4pKTtcclxuICAgICAgICAgICAgY3VyckJlemllciA9IE1hdGguZmxvb3IodGhpcy5pdGVyYXRpb24gLyAoKHRoaXMubWF4IC0gdGhpcy5taW4pIC8gdGhpcy5iZXppZXIubGVuZ3RoICkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pdGVyYXRpb24gPCB0aGlzLm1heCAtIDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRpb24rKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5pbm5lclRleHQgPSB0aGlzLml0ZXJhdGlvbjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW0uaW5uZXJUZXh0ID0gdGhpcy5pdGVyYXRpb247XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcy5zdGVwICogKHRoaXMuYmV6aWVyW2N1cnJCZXppZXJdICsgMSkgKVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbl9fd2VicGFja19yZXF1aXJlX18oNik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbl9fd2VicGFja19yZXF1aXJlX18oMik7XG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmNvbnRhY3RzLXBhZ2UnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLmNvbnRhY3RzLXBhZ2UgLmluZm8gLmJsb2NrJykuZm9yRWFjaCggKGVsZW0sIGkpID0+e1xyXG4gICAgICAgIGlmKGVsZW0ucXVlcnlTZWxlY3RvcignLndyYXBwZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLnN0eWxlLmhlaWdodCA9IGAke2VsZW0ucXVlcnlTZWxlY3RvcignLndyYXBwZXInKS5zY3JvbGxIZWlnaHR9cHhgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy50aXRsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgYmxvY2tIZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykpLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKTtcclxuICAgICAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09PSAwKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uY29udGFjdHMtcGFnZSAuaW5mbyAuYmxvY2snKS5mb3JFYWNoKCBibG9jayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sucXVlcnlTZWxlY3RvcignLnRpdGxlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2sucXVlcnlTZWxlY3RvcignLndyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLnN0eWxlLmhlaWdodCA9IGAwcHhgO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykuc3R5bGUuaGVpZ2h0ID0gYCR7ZWxlbS5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLnNjcm9sbEhlaWdodH1weGA7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLndyYXBwZXInKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5jb250YWN0cy1wYWdlIC5tYXAnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uY29udGFjdHMtcGFnZSAubWFwJylbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxufVxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuYnVyZ2VyJykgJiYgd2luZG93LnNjcmVlbi53aWR0aCA8PSA5MDApe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5idXJnZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLm1vYmlsZS1tZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wb3B1cCo9XCItcG9wdXBcIl0nKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wb3B1cCo9XCItcG9wdXBcIl0nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBuZXcgX2NvbXBvbmVudHNfcG9wdXBGdW5jX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bXCJkZWZhdWx0XCJdKGVsZW0sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3B1cC4ke2VsZW0uZGF0YXNldC5wb3B1cH1gKSlcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uc2VydmljZS1zZW8nKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnNlcnZpY2Utc2VvJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgbmV3IF9jb21wb25lbnRzX2hpZGVMaXN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bXCJkZWZhdWx0XCJdKGVsZW0sIHtcclxuICAgICAgICAgICAgbWluSGVpZ2h0OiAxNTdcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfTnVtYmVyVGltZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiAgICAgICAgICBSQVRJTkcgU1RBUlMgICAgICAgICovXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1ibG9jaycpKXtcclxuICAgIGxldCBzdGFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24udG9wLWJsb2NrIC5nb29nbGUgLnN0YXJzJyk7XHJcbiAgICBsZXQgcmF0aW5nID0gcGFyc2VGbG9hdChzdGFycy5kYXRhc2V0LnJhdGluZyk7XHJcbiAgICBzdGFycy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzdGFycykuZ2V0UHJvcGVydHlWYWx1ZSgnYmFja2dyb3VuZC1pbWFnZScpICtcclxuICAgICAgICBgLCBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMzNkEzOEYgJHtyYXRpbmcgLyA1ICogMTAwfSUsICNmZmYgJHtyYXRpbmcgLyA1ICogMTAwfSUpYFxyXG59XHJcblxyXG4vKiAgICAgICAgICBSQVRJTkcgU1RBUlMgICAgICAgICovXHJcblxyXG4vKiAgICAgICAgICBGRUFUVVJFUyBOVU1CRVIgICAgICAgICovXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi53aHktd2UgLnJpZ2h0LXNpZGUnKSl7XHJcbiAgICBmdW5jdGlvbiBzY3JvbGxFdmVudChlKXtcclxuICAgICAgICBpZihwYWdlWU9mZnNldCA+IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLndoeS13ZScpLm9mZnNldFRvcCAtIHdpbmRvdy5zY3JlZW4uaGVpZ2h0KSl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24ud2h5LXdlIC5yaWdodC1zaWRlIC5lbGVtJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXcgX2NvbXBvbmVudHNfTnVtYmVyVGltZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW06IGVsZW0ucXVlcnlTZWxlY3RvcignLm51bSBzcGFuJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IDQwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vhc2Utb3V0J1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxFdmVudClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsRXZlbnQpXHJcblxyXG59XHJcblxyXG4vKiAgICAgICAgICBGRUFUVVJFUyBOVU1CRVIgICAgICAgICovXHJcblxyXG4vKiAgICAgICAgICBPVVIgVEVBTSBTTElERVIgICAgICAgICAqL1xyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ub3VyLXRlYW0nKSl7XHJcbiAgICBsZXQgc3dpcGVyID0gbmV3IFN3aXBlcignc2VjdGlvbi5vdXItdGVhbSAuc3dpcGVyLWNvbnRhaW5lcicsIHtcclxuICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgIG5leHRFbDogJ3NlY3Rpb24ub3VyLXRlYW0gLnN3aXBlci1jb250YWluZXIgLmFycm93Lm5leHQnLFxyXG4gICAgICAgICAgICBwcmV2RWw6ICdzZWN0aW9uLm91ci10ZWFtIC5zd2lwZXItY29udGFpbmVyIC5hcnJvdy5wcmV2JyxcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxufVxyXG5cclxuLyogICAgICAgICAgT1VSIFRFQU0gU0xJREVSICAgICAgICAgKi9cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRlYW1zJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi50ZWFtcyAudXNlcicpLmZvckVhY2goIChlbGVtLCBpKSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHRFbGVtO1xyXG4gICAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGkgJSAyKXtcclxuICAgICAgICAgICAgbmV4dEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnRlYW1zIC51c2VyJylbaSAtIChpICUgMildXHJcbiAgICAgICAgICAgIGZsYWcgPSB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dEVsZW0gPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24udGVhbXMgLnVzZXInKVtpICsgMV1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWxlbSA9PT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcmV2aWV3JykuY2xhc3NMaXN0LmFkZCgnYm9yZGVyZWQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi50ZWFtcyAudXNlcicpW2kgLSAoaSAlIDIpXS5jbGFzc0xpc3QuYWRkKCdob3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24udGVhbXMgLnVzZXInKVtpIC0gKGkgJSAyKV0uY2xhc3NMaXN0LmFkZCgncmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKS5zdHlsZS56SW5kZXggPSAnNCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLnByZXZpZXcnKS5zdHlsZS56SW5kZXggPSAnNSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV4dEVsZW0gIT09ICd1bmRlZmluZWQnKSBuZXh0RWxlbS5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi50ZWFtcyAudXNlcicpW2kgLSAoaSAlIDIpXS5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZsYWcpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24udGVhbXMgLnVzZXInKVtpIC0gKGkgJSAyKV0uY2xhc3NMaXN0LnJlbW92ZSgncmlnaHQnKTtcclxuICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnei1pbmRleCcpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yKCcucHJldmlldycpLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd6LWluZGV4Jyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWxlbSAhPT0gJ3VuZGVmaW5lZCcpIG5leHRFbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd6LWluZGV4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMzAwKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyJdLCJmaWxlIjoibWFpbi1taW4uanMifQ==
