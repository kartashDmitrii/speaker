(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=3)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return hideList});class hideList{constructor(listBlock,object){if(typeof object.fixHeight!=="undefined"){this.fixHeight=object.fixHeight}if(typeof object.minHeight!=="undefined"){this.minHeight=object.minHeight}this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",e=>{this.showBlock(e)});if(this.listBlock.querySelector("[data-btn]").classList.contains("active")){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.list.classList.add("active")}if(this.list.querySelector(".close")){this.list.querySelector(".close").addEventListener("click",e=>{this.showBlock(e)})}}showBlock(e){e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));let min;this.minHeight===null?min=0:min=this.minHeight;if(blockHeight===min){this.fixHeight===undefined?this.list.style.height=`${this.list.scrollHeight}px`:this.list.style.height=`${this.fixHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active");this.list.classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.classList.remove("active");this.minHeight===undefined?this.list.style.height="0":this.list.style.height=`${this.minHeight}px`}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup,wrapper=true){this.button=button;this.popup=popup;this.wrapper=wrapper;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))})}else{this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc))}}openPopup(event){document.querySelectorAll(".popup-wrapper>div").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll(".popup").forEach(elem=>{elem.classList.remove("active")});if(event.target.dataset.stopEvent===undefined){event.preventDefault();if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.add("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}});if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}else{this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.add("active")}}window.addEventListener("mousedown",this.closePopupFunc)}}closePopup(event){if(!event.target.classList.contains("close")){event.stopPropagation()}else{if(Array.isArray(this.popup)){this.popup.forEach(elem=>{elem.classList.remove("active");if(elem.parentNode.classList.contains("wrapper")&&this.wrapper){elem.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}})}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")&&this.wrapper){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}if(document.querySelector(".popup-wrapper")&&this.wrapper){document.querySelector(".popup-wrapper").classList.remove("active")}}window.removeEventListener("mousedown",this.closePopupFunc)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NumberTimer});class NumberTimer{constructor(object){this.elem=object.elem;this.delay=typeof object.delay==="undefined"?1e3:object.delay;this.max=typeof object.max==="undefined"?parseInt(this.elem.innerText):object.max;this.min=typeof object.min==="undefined"?0:object.max;this.type=typeof object.type==="undefined"?"default":object.type;switch(this.type){case"ease-out":this.bezier=[0,0,.58,1];break;case"default":this.bezier=[0];break}this.iteration=0;this.step=Math.round(this.delay/(this.max-this.min));let currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));let interval=setInterval(()=>{this.step=Math.round(this.delay/(this.max-this.min));currBezier=Math.floor(this.iteration/((this.max-this.min)/this.bezier.length));if(this.iteration<this.max-1){this.iteration++;this.elem.innerText=this.iteration}else{this.iteration++;this.elem.innerText=this.iteration;clearInterval(interval)}},this.step*(this.bezier[currBezier]+1))}}},function(module,exports,__webpack_require__){__webpack_require__(4);__webpack_require__(5);__webpack_require__(6);__webpack_require__(7);__webpack_require__(0);__webpack_require__(2);module.exports=__webpack_require__(1)},function(module,exports){if(document.querySelector("section.contacts-page")){document.querySelectorAll("section.contacts-page .info .block").forEach((elem,i)=>{if(elem.querySelector(".wrapper").classList.contains("active")){elem.querySelector(".wrapper").style.height=`${elem.querySelector(".wrapper").scrollHeight}px`}elem.querySelector(".title").addEventListener("click",e=>{e.preventDefault();let blockHeight=parseInt(window.getComputedStyle(elem.querySelector(".wrapper")).getPropertyValue("height"));if(blockHeight===0){document.querySelectorAll("section.contacts-page .info .block").forEach(block=>{block.classList.remove("active");block.querySelector(".title").classList.remove("active");block.querySelector(".wrapper").classList.remove("active");block.querySelector(".wrapper").style.height=`0px`});elem.querySelector(".wrapper").style.height=`${elem.querySelector(".wrapper").scrollHeight}px`;elem.classList.add("active");elem.querySelector(".title").classList.add("active");elem.querySelector(".wrapper").classList.add("active");document.querySelectorAll("section.contacts-page .map").forEach(elem=>{elem.classList.remove("active")});document.querySelectorAll("section.contacts-page .map")[i].classList.add("active")}})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_hideList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);if(document.querySelector("header .burger")&&window.screen.width<=900){document.querySelector("header .burger").addEventListener("click",()=>{document.querySelector("header .mobile-menu").classList.toggle("active")})}if(document.querySelector('[data-popup*="-popup"]')){document.querySelectorAll('[data-popup*="-popup"]').forEach(elem=>{new _components_popupFunc__WEBPACK_IMPORTED_MODULE_1__["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}if(document.querySelector("section.service-seo")){document.querySelectorAll("section.service-seo").forEach(elem=>{new _components_hideList__WEBPACK_IMPORTED_MODULE_0__["default"](elem,{minHeight:157})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);if(document.querySelector("section.top-block")){let stars=document.querySelector("section.top-block .google .stars");let rating=parseFloat(stars.dataset.rating);stars.style.backgroundImage=window.getComputedStyle(stars).getPropertyValue("background-image")+`, linear-gradient(90deg, #36A38F ${rating/5*100}%, #fff ${rating/5*100}%)`}if(document.querySelector("section.why-we .right-side")){function scrollEvent(e){if(pageYOffset>document.querySelector("section.why-we").offsetTop-window.screen.height){document.querySelectorAll("section.why-we .right-side .elem").forEach(elem=>{new _components_NumberTimer__WEBPACK_IMPORTED_MODULE_0__["default"]({elem:elem.querySelector(".num span"),delay:4e3,type:"ease-out"})});window.removeEventListener("scroll",scrollEvent)}}window.addEventListener("scroll",scrollEvent)}if(document.querySelector("section.our-team")){let swiper=new Swiper("section.our-team .swiper-container",{navigation:{nextEl:"section.our-team .swiper-container .arrow.next",prevEl:"section.our-team .swiper-container .arrow.prev"}})}},function(module,exports){if(document.querySelector("section.teams")){document.querySelectorAll("section.teams .user").forEach((elem,i)=>{elem.querySelector(".btn").addEventListener("click",()=>{elem.classList.toggle("active");if(i%2){console.log("true")}else{console.log("false")}console.log(document.querySelectorAll("section.teams .user")[i-i%2]);if(elem.classList.contains("active")){elem.querySelector(".content").style.zIndex="3"}else{setTimeout(()=>{elem.querySelector(".content").style.zIndex="-1"},300)}})})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJoaWRlTGlzdCIsIltvYmplY3QgT2JqZWN0XSIsImxpc3RCbG9jayIsImZpeEhlaWdodCIsInRoaXMiLCJtaW5IZWlnaHQiLCJsaXN0IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2hvd0Jsb2NrIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJ1bmRlZmluZWQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImFkZCIsInByZXZlbnREZWZhdWx0IiwiYmxvY2tIZWlnaHQiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibWluIiwicmVtb3ZlIiwicG9wdXBGdW5jIiwiYnV0dG9uIiwicG9wdXAiLCJ3cmFwcGVyIiwib3BlblBvcHVwRnVuYyIsIm9wZW5Qb3B1cCIsImNsb3NlUG9wdXBGdW5jIiwiY2xvc2VQb3B1cCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJlbGVtIiwicXVlcnlTZWxlY3RvckFsbCIsImV2ZW50IiwiZG9jdW1lbnQiLCJ0YXJnZXQiLCJkYXRhc2V0Iiwic3RvcEV2ZW50IiwicGFyZW50Tm9kZSIsInNjcmVlbiIsIndpZHRoIiwiYm9keSIsInN0b3BQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJOdW1iZXJUaW1lciIsImRlbGF5IiwibWF4IiwiaW5uZXJUZXh0IiwidHlwZSIsImJlemllciIsIml0ZXJhdGlvbiIsInN0ZXAiLCJNYXRoIiwicm91bmQiLCJjdXJyQmV6aWVyIiwiZmxvb3IiLCJsZW5ndGgiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImJsb2NrIiwiX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9jb21wb25lbnRzX3BvcHVwRnVuY19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwidG9nZ2xlIiwiX2NvbXBvbmVudHNfTnVtYmVyVGltZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInN0YXJzIiwicmF0aW5nIiwicGFyc2VGbG9hdCIsImJhY2tncm91bmRJbWFnZSIsInNjcm9sbEV2ZW50IiwicGFnZVlPZmZzZXQiLCJvZmZzZXRUb3AiLCJzd2lwZXIiLCJTd2lwZXIiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwiY29uc29sZSIsImxvZyIsInpJbmRleCIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLFNBRVQsSUFBSUMsaUJBQW1CLEdBR3ZCLFNBQVNDLG9CQUFvQkMsVUFHNUIsR0FBR0YsaUJBQWlCRSxVQUFXLENBQzlCLE9BQU9GLGlCQUFpQkUsVUFBVUMsUUFHbkMsSUFBSUMsT0FBU0osaUJBQWlCRSxVQUFZLENBQ3pDRyxFQUFHSCxTQUNISSxFQUFHLE1BQ0hILFFBQVMsSUFJVkosUUFBUUcsVUFBVUssS0FBS0gsT0FBT0QsUUFBU0MsT0FBUUEsT0FBT0QsUUFBU0YscUJBRy9ERyxPQUFPRSxFQUFJLEtBR1gsT0FBT0YsT0FBT0QsUUFLZkYsb0JBQW9CTyxF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LE9BQU85QixPQUFRLENBQ3pGeUIsU0FBU0YsaUJBQWlCLG9DQUFvQ0YsUUFBU0MsT0FDbkUsSUFBSWlDLHFEQUFxRCxXQUFXLENBQ2hFakMsS0FBTUEsS0FBSzlCLGNBQWMsYUFDekI0QyxNQUFPLElBQ1BHLEtBQU0sZUFHZGpDLE9BQU80QixvQkFBb0IsU0FBVTBCLGNBRzdDdEQsT0FBT2IsaUJBQWlCLFNBQVVtRSxhQVF0QyxHQUFJbkMsU0FBU2pDLGNBQWMsb0JBQW9CLENBQzNDLElBQUl1RSxPQUFTLElBQUlDLE9BQU8scUNBQXNDLENBQzFEQyxXQUFZLENBQ1JDLE9BQVEsaURBQ1JDLE9BQVEsc0RBU2QsU0FBVXJILE9BQVFELFNBRXhCLEdBQUk0RSxTQUFTakMsY0FBYyxpQkFBaUIsQ0FDeENpQyxTQUFTRixpQkFBaUIsdUJBQXVCRixRQUFTLENBQUNDLEtBQU12RSxLQUM3RHVFLEtBQUs5QixjQUFjLFFBQVFDLGlCQUFpQixRQUFTLEtBQ2pENkIsS0FBSzFCLFVBQVUwRCxPQUFPLFVBQ3RCLEdBQUl2RyxFQUFJLEVBQUUsQ0FDTnFILFFBQVFDLElBQUksWUFDVCxDQUNIRCxRQUFRQyxJQUFJLFNBRWhCRCxRQUFRQyxJQUFJNUMsU0FBU0YsaUJBQWlCLHVCQUF1QnhFLEVBQUtBLEVBQUksSUFDdEUsR0FBSXVFLEtBQUsxQixVQUFVQyxTQUFTLFVBQVUsQ0FDbEN5QixLQUFLOUIsY0FBYyxZQUFZTyxNQUFNdUUsT0FBUyxRQUMzQyxDQUNIQyxXQUFXLEtBQ1BqRCxLQUFLOUIsY0FBYyxZQUFZTyxNQUFNdUUsT0FBUyxNQUMvQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBoaWRlTGlzdDsgfSk7XG5jbGFzcyBoaWRlTGlzdHtcclxuICAgIGNvbnN0cnVjdG9yKGxpc3RCbG9jaywgb2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QuZml4SGVpZ2h0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCA9IG9iamVjdC5maXhIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0Lm1pbkhlaWdodCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5taW5IZWlnaHQgPSBvYmplY3QubWluSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxpc3RCbG9jayA9IGxpc3RCbG9jaztcclxuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja10nKTtcclxuICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9Pnt0aGlzLnNob3dCbG9jayhlKX0pXHJcbiAgICAgICAgaWYgKHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZml4SGVpZ2h0ID09PSB1bmRlZmluZWQgPyB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5saXN0LnNjcm9sbEhlaWdodH1weGAgOiB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5maXhIZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGlzdC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKSl7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKT0+e3RoaXMuc2hvd0Jsb2NrKGUpfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzaG93QmxvY2soZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBibG9ja0hlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubGlzdCkuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgIGxldCBtaW47XHJcbiAgICAgICAgdGhpcy5taW5IZWlnaHQgPT09IG51bGwgPyBtaW4gPSAwIDogbWluID0gdGhpcy5taW5IZWlnaHQ7XHJcbiAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09PSBtaW4pe1xyXG4gICAgICAgICAgICB0aGlzLmZpeEhlaWdodCA9PT0gdW5kZWZpbmVkID8gdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgIDogdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuZml4SGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5taW5IZWlnaHQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSAnMCcgOiB0aGlzLmxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5taW5IZWlnaHR9cHhgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGVmYXVsdFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHBvcHVwRnVuYzsgfSk7XG5jbGFzcyBwb3B1cEZ1bmMge1xyXG4gICAgY29uc3RydWN0b3IoYnV0dG9uLHBvcHVwLHdyYXBwZXIgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xyXG4gICAgICAgIHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XHJcbiAgICAgICAgdGhpcy5vcGVuUG9wdXBGdW5jID0gdGhpcy5vcGVuUG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXBGdW5jID0gdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KHRoaXMuYnV0dG9uKSl7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwRnVuYyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnBvcHVwKSl7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wZW5Qb3B1cChldmVudCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLXdyYXBwZXI+ZGl2JykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5kYXRhc2V0LnN0b3BFdmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSAmJiB0aGlzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb3NlUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSl7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMucG9wdXApKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpICYmIHRoaXMud3JhcHBlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13cmFwcGVyJykgJiYgdGhpcy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXdyYXBwZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTnVtYmVyVGltZXI7IH0pO1xuY2xhc3MgTnVtYmVyVGltZXIge1xyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gb2JqZWN0LmVsZW07XHJcbiAgICAgICAgdGhpcy5kZWxheSA9IHR5cGVvZiBvYmplY3QuZGVsYXkgPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAxMDAwIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlbGF5O1xyXG4gICAgICAgIHRoaXMubWF4ID0gdHlwZW9mIG9iamVjdC5tYXggPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHRoaXMuZWxlbS5pbm5lclRleHQpIDpcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QubWF4O1xyXG4gICAgICAgIHRoaXMubWluID0gdHlwZW9mIG9iamVjdC5taW4gPT09IFwidW5kZWZpbmVkXCIgP1xyXG4gICAgICAgICAgICAgICAgICAgIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5tYXg7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZW9mIG9iamVjdC50eXBlID09PSBcInVuZGVmaW5lZFwiID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RlZmF1bHQnIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnR5cGU7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImVhc2Utb3V0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJlemllciA9IFswLDAsMC41OCwxXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5iZXppZXIgPSBbMF07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pdGVyYXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc3RlcCA9IE1hdGgucm91bmQodGhpcy5kZWxheSAvICh0aGlzLm1heCAtIHRoaXMubWluKSk7XHJcbiAgICAgICAgbGV0IGN1cnJCZXppZXIgPSBNYXRoLmZsb29yKHRoaXMuaXRlcmF0aW9uIC8gKCh0aGlzLm1heCAtIHRoaXMubWluKSAvIHRoaXMuYmV6aWVyLmxlbmd0aCApKTtcclxuICAgICAgICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAgPSBNYXRoLnJvdW5kKHRoaXMuZGVsYXkgLyAodGhpcy5tYXggLSB0aGlzLm1pbikpO1xyXG4gICAgICAgICAgICBjdXJyQmV6aWVyID0gTWF0aC5mbG9vcih0aGlzLml0ZXJhdGlvbiAvICgodGhpcy5tYXggLSB0aGlzLm1pbikgLyB0aGlzLmJlemllci5sZW5ndGggKSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLml0ZXJhdGlvbiA8IHRoaXMubWF4IC0gMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZXJhdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IHRoaXMuaXRlcmF0aW9uO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRpb24rKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5pbm5lclRleHQgPSB0aGlzLml0ZXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzLnN0ZXAgKiAodGhpcy5iZXppZXJbY3VyckJlemllcl0gKyAxKSApXHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oNCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbl9fd2VicGFja19yZXF1aXJlX18oNyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uY29udGFjdHMtcGFnZScpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uY29udGFjdHMtcGFnZSAuaW5mbyAuYmxvY2snKS5mb3JFYWNoKCAoZWxlbSwgaSkgPT57XHJcbiAgICAgICAgaWYoZWxlbS5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykuc3R5bGUuaGVpZ2h0ID0gYCR7ZWxlbS5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLnNjcm9sbEhlaWdodH1weGA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLnRpdGxlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxldCBibG9ja0hlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0ucXVlcnlTZWxlY3RvcignLndyYXBwZXInKSkuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgICAgICBpZiAoYmxvY2tIZWlnaHQgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5jb250YWN0cy1wYWdlIC5pbmZvIC5ibG9jaycpLmZvckVhY2goIGJsb2NrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykuc3R5bGUuaGVpZ2h0ID0gYDBweGA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLndyYXBwZXInKS5zdHlsZS5oZWlnaHQgPSBgJHtlbGVtLnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykuc2Nyb2xsSGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy50aXRsZScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLmNvbnRhY3RzLXBhZ2UgLm1hcCcpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi5jb250YWN0cy1wYWdlIC5tYXAnKVtpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG59XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19oaWRlTGlzdF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cclxuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5idXJnZXInKSAmJiB3aW5kb3cuc2NyZWVuLndpZHRoIDw9IDkwMCl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLmJ1cmdlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAubW9iaWxlLW1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG4gICAgfSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBvcHVwKj1cIi1wb3B1cFwiXScpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBvcHVwKj1cIi1wb3B1cFwiXScpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIG5ldyBfY29tcG9uZW50c19wb3B1cEZ1bmNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX1tcImRlZmF1bHRcIl0oZWxlbSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBvcHVwLiR7ZWxlbS5kYXRhc2V0LnBvcHVwfWApKVxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zZXJ2aWNlLXNlbycpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uc2VydmljZS1zZW8nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICBuZXcgX2NvbXBvbmVudHNfaGlkZUxpc3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1tcImRlZmF1bHRcIl0oZWxlbSwge1xyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDE1N1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19OdW1iZXJUaW1lcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qICAgICAgICAgIFJBVElORyBTVEFSUyAgICAgICAgKi9cclxuXHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24udG9wLWJsb2NrJykpe1xyXG4gICAgbGV0IHN0YXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi50b3AtYmxvY2sgLmdvb2dsZSAuc3RhcnMnKTtcclxuICAgIGxldCByYXRpbmcgPSBwYXJzZUZsb2F0KHN0YXJzLmRhdGFzZXQucmF0aW5nKTtcclxuICAgIHN0YXJzLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0YXJzKS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWltYWdlJykgK1xyXG4gICAgICAgIGAsIGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzM2QTM4RiAke3JhdGluZyAvIDUgKiAxMDB9JSwgI2ZmZiAke3JhdGluZyAvIDUgKiAxMDB9JSlgXHJcbn1cclxuXHJcbi8qICAgICAgICAgIFJBVElORyBTVEFSUyAgICAgICAgKi9cclxuXHJcbi8qICAgICAgICAgIEZFQVRVUkVTIE5VTUJFUiAgICAgICAgKi9cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLndoeS13ZSAucmlnaHQtc2lkZScpKXtcclxuICAgIGZ1bmN0aW9uIHNjcm9sbEV2ZW50KGUpe1xyXG4gICAgICAgIGlmKHBhZ2VZT2Zmc2V0ID4gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24ud2h5LXdlJykub2Zmc2V0VG9wIC0gd2luZG93LnNjcmVlbi5oZWlnaHQpKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbi53aHktd2UgLnJpZ2h0LXNpZGUgLmVsZW0nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIG5ldyBfY29tcG9uZW50c19OdW1iZXJUaW1lcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fW1wiZGVmYXVsdFwiXSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbTogZWxlbS5xdWVyeVNlbGVjdG9yKCcubnVtIHNwYW4nKSxcclxuICAgICAgICAgICAgICAgICAgICBkZWxheTogNDAwMCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZWFzZS1vdXQnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEV2ZW50KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxFdmVudClcclxuXHJcbn1cclxuXHJcbi8qICAgICAgICAgIEZFQVRVUkVTIE5VTUJFUiAgICAgICAgKi9cclxuXHJcbi8qICAgICAgICAgIE9VUiBURUFNIFNMSURFUiAgICAgICAgICovXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5vdXItdGVhbScpKXtcclxuICAgIGxldCBzd2lwZXIgPSBuZXcgU3dpcGVyKCdzZWN0aW9uLm91ci10ZWFtIC5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgbmV4dEVsOiAnc2VjdGlvbi5vdXItdGVhbSAuc3dpcGVyLWNvbnRhaW5lciAuYXJyb3cubmV4dCcsXHJcbiAgICAgICAgICAgIHByZXZFbDogJ3NlY3Rpb24ub3VyLXRlYW0gLnN3aXBlci1jb250YWluZXIgLmFycm93LnByZXYnLFxyXG4gICAgICAgIH0sXHJcbiAgICB9KVxyXG59XHJcblxyXG4vKiAgICAgICAgICBPVVIgVEVBTSBTTElERVIgICAgICAgICAqL1xuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24udGVhbXMnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnRlYW1zIC51c2VyJykuZm9yRWFjaCggKGVsZW0sIGkpID0+IHtcclxuICAgICAgICBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmIChpICUgMil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndHJ1ZScpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFsc2UnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24udGVhbXMgLnVzZXInKVtpIC0gKGkgJSAyKV0pXHJcbiAgICAgICAgICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICAgICAgZWxlbS5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpLnN0eWxlLnpJbmRleCA9ICczJ1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKS5zdHlsZS56SW5kZXggPSAnLTEnXHJcbiAgICAgICAgICAgICAgICB9LCAzMDApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7Il0sImZpbGUiOiJtYWluLW1pbi5qcyJ9
